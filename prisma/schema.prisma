generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id          String   @id @default(uuid())
  email       String   @unique
  password    String
  firstName   String
  lastName    String
  biography   String?
  nationality String?
  avatarUrl   String?
  coverUrl    String?
  isOnline    Boolean  @default(false)
  lastSeen    DateTime @default(now())

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  interests Interest[]
  posts     Post[]     @relation("UserPosts")
}

model Interest {
  id     String @id @default(uuid())
  name   String @unique
  userId String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Post {
  id       String  @id @default(uuid())
  authorId String
  content  String
  imageUrl String?
  videoUrl String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  author User @relation("UserPosts", fields: [authorId], references: [id], onDelete: Cascade)
}

enum Reaction {
  LIKE
  DISLIKE
  LOVE
  HAHA
  SAD
}

enum NotificationType {
  NEW_REACTION
  NEW_COMMENT
  NEW_FRIEND_REQUEST
  FRIEND_REQUEST_ACCEPTED
}
